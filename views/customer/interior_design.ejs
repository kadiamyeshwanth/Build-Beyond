<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interior Designer Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Poppins", sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
        } 
        .container {
            display: flex;
            width: 90%;
            height: 90vh;
            margin: 5vh auto;
            background-color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .left-section {
            width: 40%;
            height: 100%;
            overflow-y: auto;
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .i_right_section {
            width: 60%;
            height: 100%;
            position: relative;
            padding: 20px;
            background-color: white;
        }
        
        .designer-card {
            display: flex;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #e0e0e0;
            background-color: white;
        }
        
        .designer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .designer-card.active {
            background-color: #e6f7ff;
            border-color: #91d5ff;
        }
        
        .designer-image-small {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 2px solid #e0e0e0;
        }
        
        .designer-info h3 {
            margin-bottom: 5px;
            color: #333;
            font-size: 18px;
        }
        
        .designer-info p {
            color: #666;
            font-size: 14px;
        }
        
        .rating {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .rating .star {
            color: #ffd700;
            font-size: 16px;
            margin-right: 2px;
        }
        
        .right-content {
            height: calc(100% - 60px);
            overflow-y: auto;
            padding-bottom: 20px;
        }
        
        .right-content h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 24px;
        }
        
        .right-content .designer-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .designer-image-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
            border: 3px solid #e0e0e0;
        }
        
        .bio {
            margin-bottom: 30px;
        }
        
        .bio h3 {
            margin-bottom: 10px;
            color: #333;
            font-size: 20px;
        }
        
        .bio p {
            color: #555;
            line-height: 1.6;
        }
        
        .projects {
            margin-top: 30px;
        }
        
        .projects h3 {
            margin-bottom: 20px;
            color: #333;
            font-size: 20px;
        }
        
        .project {
            margin-bottom: 30px;
        }
        
        .project h4 {
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
        }
        
        .project-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .project p {
            color: #555;
            line-height: 1.6;
        }
        
        .reviews {
            margin-top: 30px;
        }
        
        .reviews h3 {
            margin-bottom: 20px;
            color: #333;
            font-size: 20px;
        }
        
        .review {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            background-color: #f9f9f9;
            border: 1px solid #e0e0e0;
        }
        
        .review h4 {
            margin-bottom: 5px;
            color: #333;
            font-size: 16px;
        }
        
        .review p {
            color: #555;
            line-height: 1.6;
        }
        
        .book-now-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 15px;
            background-color: white;
            border-top: 1px solid #e0e0e0;
            text-align: center;
        }
        
        .book-now-btn {
            background-color: #1890ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .book-now-btn:hover {
            background-color: #096dd9;
            transform: translateY(-2px);
        }
        
        .hidden {
            display: none;
        }

        .company-info {
            margin-bottom: 30px;
        }

        .company-info h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 24px;
        }

        .company-info p {
            color: #555;
            line-height: 1.6;
        }

        .company-info ul {
            list-style-type: disc;
            margin-left: 20px;
            color: #555;
        }

        .company-info ul li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <%- include('navbar_customer') %>
    <h1 class="heading" style="width: max-content;">Interior Designers</h1>
    <div class="container">
        <div class="left-section" id="designerList">
            <% designers.forEach(designer => { %>
                <div class="designer-card" data-id="<%= designer.id %>">
                    <img src="<%= designer.profileImage %>" alt="<%= designer.name %>" class="designer-image-small">
                    <div class="designer-info">
                        <h3><%= designer.name %></h3>
                        <p><%= designer.professionalTitle %></p>
                        <p><%= designer.experience %> experience</p>
                        <div class="rating">
                            <% for (let i = 0; i < Math.floor(designer.rating); i++) { %>
                                <span class="star">★</span>
                            <% } %>
                            <% if (designer.rating % 1 !== 0) { %>
                                <span class="star">½</span>
                            <% } %>
                            <span>(<%= designer.rating %>)</span>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
        
        <div class="i_right_section">
            <div class="right-content" id="designerDetails">
                <div class="initial-message">
                    <div class="company-info">
                        <h2>Welcome to Build & Beyond Interior Designers</h2>
                        <p>Build & Beyond Interior Designers is a leading design firm dedicated to creating innovative and sustainable interior spaces that inspire and transform communities. With over 20 years of experience, our team of talented interior designers has delivered award-winning projects across the globe.</p>
                        <h3>Our Mission</h3>
                        <p>Our mission is to design spaces that enhance the quality of life, promote sustainability, and reflect the unique identity of our clients. We believe in the power of interior design to shape the future and create lasting impact.</p>
                        <h3>Our Services</h3>
                        <ul>
                            <li>Residential Interior Design</li>
                            <li>Commercial Interior Design</li>
                            <li>Space Planning</li>
                            <li>Furniture Design</li>
                            <li>Lighting Design</li>
                            <li>Sustainable Design</li>
                            <li>Color Consultation</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="book-now-container">
                <a href="/interiordesign_form.html"><button class="book-now-btn" id="bookNowBtn">Book Now</button></a>
            </div>
        </div>
    </div>
    
    <script>
        // Navbar
        const notificationIcon = document.getElementById('notificationIcon');
        const notificationPanel = document.getElementById('notificationPanel');
        
        notificationIcon.addEventListener('click', function(e) {
            e.stopPropagation();
            notificationPanel.classList.toggle('show');
        });
        
        document.addEventListener('click', function(e) {
            if (!notificationPanel.contains(e.target) && !notificationIcon.contains(e.target)) {
                notificationPanel.classList.remove('show');
            }
        });

        // Designer data from server
        <!-- const designersData = <%- JSON.stringify(designers) %>; -->
        
        // Function to render star rating
        function renderRating(rating) {
            const fullStars = Math.floor(rating);
            const halfStar = rating % 1 !== 0;
            let starsHTML = '';

            for (let i = 0; i < fullStars; i++) {
                starsHTML += '<span class="star">★</span>';
            }

            if (halfStar) {
                starsHTML += '<span class="star">½</span>';
            }

            return `<div class="rating">${starsHTML} <span>(${rating})</span></div>`;
        }
        
        // Show designer details
        function showDesignerDetails(designerId) {
            const designer = designersData.find(d => d.id === designerId);
            const detailsContainer = document.getElementById('designerDetails');
            
            if (designer) {
                let projectsHTML = '';
                
                designer.projects.forEach(project => {
                    projectsHTML += `
                        <div class="project">
                            <h4>${project.name} (${project.year})</h4>
                            <p><strong>Location:</strong> ${project.location}</p>
                            <img src="${project.image}" alt="${project.name}" class="project-image">
                            <p>${project.description}</p>
                        </div>
                    `;
                });
                
                detailsContainer.innerHTML = `
                    <div class="designer-header">
                        <img src="${designer.image}" alt="${designer.name}" class="designer-image-large">
                        <div>
                            <h2>${designer.name}</h2>
                            <p><strong>${designer.title}</strong> with ${designer.experience} experience</p>
                            ${renderRating(designer.rating)}
                        </div>
                    </div>
                    
                    <div class="bio">
                        <h3>About</h3>
                        <p>${designer.bio}</p>
                        <p><strong>Specialties:</strong> ${designer.specialties}</p>
                    </div>
                    
                    <div class="projects">
                        <h3>Notable Projects</h3>
                        ${projectsHTML}
                    </div>
                `;
            }
        }
        
        // Handle Book Now button
        function setupBookNowButton() {
            const bookNowBtn = document.getElementById('bookNowBtn');
            
            bookNowBtn.addEventListener('click', () => {
                const activeCard = document.querySelector('.designer-card.active');
                
                if (activeCard) {
                    const designerId = parseInt(activeCard.dataset.id);
                    const designer = designersData.find(d => d.id === designerId);
                    // You can use the designer data here if needed
                } else {
                    alert('Please select an interior designer before booking.');
                }
            });
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Add click event to designer cards
            document.querySelectorAll('.designer-card').forEach(card => {
                card.addEventListener('click', () => {
                    // Remove active class from all cards
                    document.querySelectorAll('.designer-card').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    // Add active class to clicked card
                    card.classList.add('active');
                    
                    // Show designer details
                    showDesignerDetails(parseInt(card.dataset.id));
                });
            });
            
            setupBookNowButton();
        });
    </script>
</body>
</html>